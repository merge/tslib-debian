.\"     Title: ts.conf
.\"    Author: Russell King
.\" Generator: DocBook XSL Stylesheets v1.73.2 <http://docbook.sf.net/>
.\"      Date: Wed 06 Aug 2008 10:46:33 ART
.\"    Manual: tslib
.\"    Source: Debian 5
.\"
.TH "TS\&.CONF" "5" "Wed 06 Aug 2008 10:46:33 ART" "Debian 5" "tslib"
.\" disable hyphenation
.nh
.\" disable justification (adjust text to left margin only)
.ad l
.SH "NAME"
ts.conf \- Configuration file for tslib, controlling touch screens for embedded devices.
.SH "DESCRIPTION"
.PP
The idea of tslib is to have a core library that provides standardised services, and a set of plugins to manage the conversion and filtering as needed\&.
.PP
The plugins for a particular touchscreen are loaded automatically by the library under the control of a static configuration file,
\fI/etc/ts\&.conf\fR\&.
\fI/etc/ts\&.conf\fR
gives the library basic configuration information\&. Each line specifies one module, and the parameters for that module\&. The modules are loaded in order, with the first one processing the touchscreen data first\&. For example:
.sp
.RS 4
.nf
  module_raw input
  module variance delta=30
  module dejitter delta=100
  module linear
   
.fi
.RE
.SH "MODULE PARAMETERS"
.PP
\fBvariance\fR
.RS 4
Tries to do it\'s best in order to filter out random noise coming from touchscreen ADC\'s\&. This is achieved by limiting the sample movement speed to some value (e\&.g\&. the pen is not supposed to move quicker than some threshold)\&.
.sp
This is a \'greedy\' filter, e\&.g\&. it gives less samples on output than receives on input\&.
.sp
.RS 4
\h'-04'\(bu\h'+03'\fBParameters:\fR
\fBdelta\fR\&.
.sp
Set the squared distance in touchscreen units between previous and current pen position (e\&.g\&. (X2\-X1)^2 + (Y2\-Y1)^2)\&. This defines the criteria for determining whenever two samples are \'near\' or \'far\' to each other\&.
.sp
If the distance between previous and current sample is \'far\', the sample is marked as \'potential noise\'\&. This doesn\'t mean yet that it will be discarded; if the next reading will be close to it, this will be considered just a regular \'quick motion\' event, and it will sneak to the next layer\&. Also, if the sample after the \'potential noise\' is \'far\' from both previously discussed samples, this is also considered a \'quick motion\' event and the sample sneaks into the output stream\&.
.RE
.RE
.PP
\fBdejitter\fR
.RS 4
Removes jitter on the X and Y co\-ordinates\&. This is achieved by applying a weighted smoothing filter\&. The latest samples have most weight; earlier samples have less weight\&. This allows to achieve 1:1 input\->output rate\&.
.sp
.RS 4
\h'-04'\(bu\h'+03'\fBParameters:\fR
\fBdelta\fR\&.
.sp
Squared distance between two samples ((X2\-X1)^2 + (Y2\-Y1)^2) that defines the \'quick motion\' threshold\&. If the pen moves quick, it is not feasible to smooth pen motion, besides quick motion is not precise anyway; so if quick motion is detected the module just discards the backlog and simply copies input to output\&.
.RE
.RE
.PP
\fBlinear\fR
.RS 4
Linear scaling module, primarily used for conversion of touch screen co\-ordinates to screen co\-ordinates\&.
.sp
.RS 4
\h'-04'\(bu\h'+03'\fBParameters:\fR
\fBxyswap\fR\&.
.sp
Interchange the X and Y co\-ordinates \-\- no longer used or needed if the new linear calibration utility ts_calibrate is used\&.
.RE
.RE
.SH "ENVIRONMENT VARIABLES"
.PP
Latest versions of the Xorg tslib input driver use
\fBhal\fR
to configure the touchscreen within Xorg\&. Environment variables are only needed for the tslib commands\&.
.PP
\fBTSLIB_TSDEVICE\fR
.RS 4
If the default touchscreen device cannot be found, set the
\fBTSLIB_TSDEVICE\fR
environment variable to the touchscreen device to use\&.
.sp
Default:
\fI/dev/input/event0\fR
.RE
.PP
\fBTSLIB_CONSOLEDEVICE\fR
.RS 4
Tslib default console device\&.
.sp
Default:
\fI/dev/tty\fR
.RE
.PP
\fBTSLIB_CALIBFILE \fR
.RS 4
Stores calibration data obtained using
ts_calibrate\&.
.sp
Default:
\fI/etc/pointercal\fR
.RE
.PP
\fBTSLIB_CONFFILE\fR
.RS 4
Set a different location for the
\fIts\&.conf\fR
configuration file itself\&.
.sp
Default;
\fI/etc/ts\&.conf\fR\&.
.RE
.PP
\fBTSLIB_FBDEVICE\fR
.RS 4
Framebuffer device to use for the touchscreen support\&.
.sp
Default:
\fI/dev/fb0\fR\&.
.RE
.PP
\fBTSLIB_PLUGINDIR\fR
.RS 4
Plugin directory for tslib\&.
.sp
Default:
\fI/usr/lib/ts/\fR\&.
.RE
.SH "AUTHOR"
.PP
This manual page was written by Neil Williams
<codehelp@debian\&.org>
for the
Debian(TM)
distribution because the original program does not have a manual page, but may be used by others\&. Permission is granted to copy, distribute and/or modify this document under the terms of the
GNU
General Public License, Version 2 any later version published by the Free Software Foundation\&.
.PP
On Debian systems, the complete text of the GNU General Public License can be found in /usr/share/common\-licenses/GPL\&.
.SH "AUTHOR"
.PP
\fBRussell King\fR
.sp -1n
.IP "" 4
Author.
.SH "COPYRIGHT"
Copyright \(co 2008 Neil Williams
.br
